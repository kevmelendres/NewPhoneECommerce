<head>
    <link href="https://fonts.googleapis.com/css?family=Muli:400,700" rel="stylesheet">

</head>
<div class="container-fluid">
    <div class="row">
        <div class="position-fixed border-end" style="width:14rem; background-color: #F8FAFB;">
            <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100 w-100">
                <div class="mt-3 mb-4">
                    <img _ngcontent-ng-c2605709781="" src="https://d19m59y37dris4.cloudfront.net/directory/2-0-2/img/logo.svg" alt="Directory logo">
                </div>
                <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start text-dark">
                    <li class="d-flex sidebar-link hvr-grow" routerLink="/admin">
                        <div class="d-inline" style="width:30px"><i class="fa-solid fa-chart-line"></i></div>
                        <div class="d-inline">Dashboard</div>
                    </li>
                    <li class="d-flex sidebar-link hvr-grow" routerLink="/admin/manage-products">
                        <div class="d-inline" style="width:30px"><i class="fa-solid fa-mobile-screen-button"></i></div>
                        <div class="d-inline">Products</div>
                    </li>
                    <li class="d-flex sidebar-link hvr-grow active-admin-sidebar-link" routerLink="/admin/manage-deliveries">
                        <div class="d-inline" style="width:30px"><i class="fa-solid fa-truck"></i></div>
                        <div class="d-inline">Deliveries</div>
                    </li>
                    <li class="d-flex sidebar-link hvr-grow" routerLink="/admin/manage-users">
                        <div class="d-inline" style="width:30px"><i class="fa-solid fa-user"></i></div>
                        <div class="d-inline">Users</div>
                    </li>
                </ul>
            </div>
        </div>


        <div class="py-5 ps-5 content-container">
            <div #deliveryReport class="mb-4">
                <span class="fs-4 fw-bold d-block">Delivery Orders</span>
                <span class="fs-6 d-block fw-light">Deliveries > Statistics</span>

                <div class="d-flex mt-4 mb-5 pb-3" style="width: 80%;">
                    <div class="card px-3 py-4 me-4 position-relative" style="color: #80808E; width: 250px;">
                        <span>Order Items</span>
                        <span class="fw-bold fs-3" style="color: black">100 Items</span>
                        <span class="mt-3 card-remarks">
                            Coming from <span style="color:rgb(73,180,124)" class="fw-bold">0 Orders</span> in total
                        </span>
                        <span class="card-icon"><i class="fa-solid fa-truck-fast"></i></span>
                    </div>

                    <div class="card px-3 py-4 me-4 position-relative" style="color: #80808E; width: 250px;">
                        <span>Unmanaged Orders</span>
                        <span class="fw-bold fs-3" style="color: black">100 Orders</span>
                        <span class="mt-3 card-remarks">
                            <span style="color:rgb(73,180,124)" class="fw-bold">Out of 100</span> Total Orders
                        </span>
                        <span class="card-icon" style="color: #FFCE08"><i class="fa-solid fa-triangle-exclamation"></i></span>
                    </div>

                    <div class="card px-3 py-4 me-4 position-relative" style="color: #80808E; width: 250px;">
                        <span>Total Orders</span>
                        <span class="fw-bold fs-3" style="color: black">100 Orders</span>
                        <span class="mt-3 card-remarks">
                            <span style="color:rgb(73,180,124)" class="fw-bold">0 out of 100</span> Orders Delivered
                        </span>
                        <span class="card-icon" style="color: #9451D4"><i class="fa-solid fa-truck-fast"></i></span>
                    </div>

                    <div class="card px-3 py-4 me-4 position-relative" style="color: #80808E; width: 250px;">
                        <span>Delivered Orders</span>
                        <span class="fw-bold fs-3" style="color: black">100 Orders</span>
                        <span class="mt-3 card-remarks">
                            <span style="color:rgb(73,180,124)" class="fw-bold">Out of 100</span> Total Orders
                        </span>
                        <span class="card-icon" style="color: #1A9882"><i class="fa-regular fa-square-check"></i></span>
                    </div>
                </div>
            </div>

            <div #deliveryReport>
                <span class="fs-4 fw-bold">Delivery Report</span>
                <div class="mt-3">
                    <div #allDeliveries class="d-inline px-5 status-link" (click)="onStatusLinkClick($event)">
                        All Deliveries
                    </div>
                    <div class="d-inline px-5 status-link" (click)="onStatusLinkClick($event)">
                        Order Placed
                    </div>
                    <div class="d-inline px-5 status-link" (click)="onStatusLinkClick($event)">
                        Order in Progress
                    </div>
                    <div class="d-inline px-5 status-link" (click)="onStatusLinkClick($event)">
                        Preparing to Ship
                    </div>
                    <div class="d-inline px-5 status-link" (click)="onStatusLinkClick($event)">
                        Shipped
                    </div>
                    <div class="d-inline px-5 status-link" (click)="onStatusLinkClick($event)">
                        Delivered
                    </div>
                </div>
                <div class="mt-4 d-flex" [ngStyle]="{ 'justify-content' : (ordersToShow.length != 0) ? 'start' : 'center'}" style="width: 1200px; justify-content:">
                    <div class="d-flex justify-content-center align-items-center"
                         style="min-height: 400px;" *ngIf="ordersToShow.length == 0">
                        <div #NoItemsToShow class="text-center">
                            <div class="d-block" style="color: darkred; font-size: 80px;">
                                <i class="fa-solid fa-circle-exclamation"></i>
                            </div>
                            <div class="d-block fs-5">No orders to show.</div>
                        </div>
                    </div>

                    <div style="width: 1200px" *ngIf="ordersToShow.length != 0" class="p-4 border border-opacity-10 rounded">
                        <table class="table table-hover text-center">
                            <thead>
                                <tr class="align-middle">
                                    <th scope="col">Order No.</th>
                                    <th scope="col">First Name</th>
                                    <th scope="col">Last Name</th>
                                    <th scope="col">Order Items</th>
                                    <th scope="col">Subtotal</th>
                                    <th scope="col">Delivery Address</th>
                                    <th scope="col">Order Status</th>
                                    <!-- <th scope="col">Update Status</th> -->
                                </tr>
                            </thead>
                            <tbody #orderRows>
                                <tr class="order-row align-middle" *ngFor="let order of ordersToShow; index as i" (click)="onOrderClick(order, orderDetails, i + 1)">
                                    <th scope="row">{{i + 1}}</th>
                                    <td>{{order.firstName}}</td>
                                    <td>{{order.lastName}}</td>
                                    <td>{{order.orderItems.length}}</td>
                                    <td>
                                        {{order.subtotal.toLocaleString("en-US", {
                                        style: "currency",
                                        currency: "Php"
                                        })}}
                                    </td>
                                    <td>{{order.addressMunicipality}}, {{order.addressProvince}}</td>
                                    <td>{{formatOrderStatus(order.orderStatus)}}</td>
                                    <!-- <td><button class="btn btn-primary">Update</button></td> -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


    </div>
</div>

<ng-template #orderDetails let-modal>
    <div class="modal-header">
        <span class="modal-title fs-5 d-block">Order No. {{selectedOrderNo}}</span>
        <button type="button" class="btn-close " aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <span class="d-block">Delivery Date: </span>
        <span class="d-block"> fgfdgdfgfdg </span>
        <ngb-datepicker #deliveryDate [(ngModel)]="deliveryDateSelected" (navigate)="onDeliveryDateSelect($event)" />



    </div>






    <div class="modal-footer">
        <button type="button" class="btn btn-primary fs-6">Update</button>
        <button type="button" class="btn btn-secondary fs-6" (click)="modal.close('Close click')">Close</button>
    </div>
</ng-template>
